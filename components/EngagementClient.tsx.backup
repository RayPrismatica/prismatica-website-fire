'use client';

import { useState } from 'react';
import Link from 'next/link';
import PageLayout from '@/components/PageLayout';
import EnquiryModal from '@/components/EnquiryModal';
import InlineObservation from '@/components/InlineObservation';
import DynamicServiceDescription from '@/components/DynamicServiceDescription';
import DynamicESIDescription from '@/components/DynamicESIDescription';
import DynamicAgencyDescription from '@/components/DynamicAgencyDescription';
import DynamicKSODescription from '@/components/DynamicKSODescription';
import DynamicTransactionDescription from '@/components/DynamicTransactionDescription';
import DynamicTriptychDescription from '@/components/DynamicTriptychDescription';

// Service configuration with duration and pricing
const serviceConfig: Record<string, { duration: number; price: string }> = {
  'pioneers-of-purpose': { duration: 8, price: '50000' },
  'esi-framework': { duration: 6, price: '40000' },
  'the-secret-agency': { duration: 12, price: '40000' },
  'kso-workshop': { duration: 4, price: '25000' },
  'transaction-architecture': { duration: 5, price: '25000' },
  'strategic-triptych': { duration: 4, price: '18000' },
  'go-to-market': { duration: 7, price: '15000' },
  'design-thinking': { duration: 3, price: '10000' },
  'ai-without-hallucination': { duration: 5, price: '10000' },
  'creative-converts': { duration: 7, price: '12000' },
  'marketing-reality-check': { duration: 4, price: '8000' },
  'process-surgery': { duration: 5, price: '10000' },
};

interface EngagementClientProps {
  serviceDescription?: string;
  esiDescription?: string;
  agencyDescription?: string;
  ksoDescription?: string;
  transactionDescription?: string;
  triptychDescription?: string;
  marketObservation?: string;
}

export default function EngagementClient({
  serviceDescription,
  esiDescription,
  agencyDescription,
  ksoDescription,
  transactionDescription,
  triptychDescription,
  marketObservation,
}: EngagementClientProps) {
  const [serviceFilter, setServiceFilter] = useState<string>('all');
  const [enquiryModalOpen, setEnquiryModalOpen] = useState<string | null>(null);

  // Helper function to calculate delivery date: duration + 2 weeks to get started
  const getDeliveryDate = (serviceKey: string): string => {
    const config = serviceConfig[serviceKey];
    if (!config) return '[DATE]';
    const totalWeeks = config.duration + 2;
    if (typeof window === 'undefined') return '[DATE]';
    return new Date(Date.now() + (totalWeeks * 7 * 24 * 60 * 60 * 1000))
      .toLocaleDateString('en-GB', { day: 'numeric', month: 'long' });
  };

  return (
    <PageLayout>
      <section id="consulting" className="section active">
        <div style={{ maxWidth: '700px' }}>
          <h2 style={{ fontFamily: 'var(--font-passion), sans-serif', fontSize: '56px', letterSpacing: '0.005em' }}><span style={{ borderBottom: '4px solid #D43225' }}>CONSULTING</span> SERVICES</h2>

        <p>We fix things. Then we leave.</p>

        <p>Most consultants optimise for retention. We optimise for resolution.</p>

        <div style={{ margin: '32px 0', display: 'flex', gap: '8px', flexWrap: 'wrap' }}>
          <button
            onClick={() => setServiceFilter('all')}
            style={{
              padding: '8px 16px',
              fontSize: '11px',
              fontFamily: '"Noto Sans", sans-serif',
              fontWeight: 600,
              letterSpacing: '1px',
              textTransform: 'uppercase',
              border: serviceFilter === 'all' ? '2px solid #D43225' : '2px solid #e0e0e0',
              background: serviceFilter === 'all' ? '#D43225' : 'white',
              color: serviceFilter === 'all' ? 'white' : '#666',
              cursor: 'pointer',
              transition: 'all 0.2s',
              borderRadius: '4px'
            }}
            onMouseEnter={(e) => {
              if (serviceFilter !== 'all') {
                e.currentTarget.style.borderColor = '#D43225';
                e.currentTarget.style.color = '#D43225';
              }
            }}
            onMouseLeave={(e) => {
              if (serviceFilter !== 'all') {
                e.currentTarget.style.borderColor = '#e0e0e0';
                e.currentTarget.style.color = '#666';
              }
            }}
          >
            All
          </button>
          <button
            onClick={() => setServiceFilter('strategy')}
            style={{
              padding: '8px 16px',
              fontSize: '11px',
              fontFamily: '"Noto Sans", sans-serif',
              fontWeight: 600,
              letterSpacing: '1px',
              textTransform: 'uppercase',
              border: serviceFilter === 'strategy' ? '2px solid #D43225' : '2px solid #e0e0e0',
              background: serviceFilter === 'strategy' ? '#D43225' : 'white',
              color: serviceFilter === 'strategy' ? 'white' : '#666',
              cursor: 'pointer',
              transition: 'all 0.2s',
              borderRadius: '4px'
            }}
            onMouseEnter={(e) => {
              if (serviceFilter !== 'strategy') {
                e.currentTarget.style.borderColor = '#D43225';
                e.currentTarget.style.color = '#D43225';
              }
            }}
            onMouseLeave={(e) => {
              if (serviceFilter !== 'strategy') {
                e.currentTarget.style.borderColor = '#e0e0e0';
                e.currentTarget.style.color = '#666';
              }
            }}
          >
            Strategy
          </button>
          <button
            onClick={() => setServiceFilter('marketing')}
            style={{
              padding: '8px 16px',
              fontSize: '11px',
              fontFamily: '"Noto Sans", sans-serif',
              fontWeight: 600,
              letterSpacing: '1px',
              textTransform: 'uppercase',
              border: serviceFilter === 'marketing' ? '2px solid #D43225' : '2px solid #e0e0e0',
              background: serviceFilter === 'marketing' ? '#D43225' : 'white',
              color: serviceFilter === 'marketing' ? 'white' : '#666',
              cursor: 'pointer',
              transition: 'all 0.2s',
              borderRadius: '4px'
            }}
            onMouseEnter={(e) => {
              if (serviceFilter !== 'marketing') {
                e.currentTarget.style.borderColor = '#D43225';
                e.currentTarget.style.color = '#D43225';
              }
            }}
            onMouseLeave={(e) => {
              if (serviceFilter !== 'marketing') {
                e.currentTarget.style.borderColor = '#e0e0e0';
                e.currentTarget.style.color = '#666';
              }
            }}
          >
            Marketing
          </button>
          <button
            onClick={() => setServiceFilter('technology')}
            style={{
              padding: '8px 16px',
              fontSize: '11px',
              fontFamily: '"Noto Sans", sans-serif',
              fontWeight: 600,
              letterSpacing: '1px',
              textTransform: 'uppercase',
              border: serviceFilter === 'technology' ? '2px solid #D43225' : '2px solid #e0e0e0',
              background: serviceFilter === 'technology' ? '#D43225' : 'white',
              color: serviceFilter === 'technology' ? 'white' : '#666',
              cursor: 'pointer',
              transition: 'all 0.2s',
              borderRadius: '4px'
            }}
            onMouseEnter={(e) => {
              if (serviceFilter !== 'technology') {
                e.currentTarget.style.borderColor = '#D43225';
                e.currentTarget.style.color = '#D43225';
              }
            }}
            onMouseLeave={(e) => {
              if (serviceFilter !== 'technology') {
                e.currentTarget.style.borderColor = '#e0e0e0';
                e.currentTarget.style.color = '#666';
              }
            }}
          >
            Technology
          </button>
          <button
            onClick={() => setServiceFilter('process')}
            style={{
              padding: '8px 16px',
              fontSize: '11px',
              fontFamily: '"Noto Sans", sans-serif',
              fontWeight: 600,
              letterSpacing: '1px',
              textTransform: 'uppercase',
              border: serviceFilter === 'process' ? '2px solid #D43225' : '2px solid #e0e0e0',
              background: serviceFilter === 'process' ? '#D43225' : 'white',
              color: serviceFilter === 'process' ? 'white' : '#666',
              cursor: 'pointer',
              transition: 'all 0.2s',
              borderRadius: '4px'
            }}
            onMouseEnter={(e) => {
              if (serviceFilter !== 'process') {
                e.currentTarget.style.borderColor = '#D43225';
                e.currentTarget.style.color = '#D43225';
              }
            }}
            onMouseLeave={(e) => {
              if (serviceFilter !== 'process') {
                e.currentTarget.style.borderColor = '#e0e0e0';
                e.currentTarget.style.color = '#666';
              }
            }}
          >
            Process
          </button>
        </div>

        <div style={{ margin: '48px 0', borderTop: '1px solid #ccc', borderBottom: '1px solid #ccc', height: '3px' }}></div>

        <h3 style={{ fontFamily: '"Noto Sans", sans-serif', fontSize: '28px', fontWeight: 700, textTransform: 'uppercase', letterSpacing: '1px', marginTop: '48px', marginBottom: '24px' }}>The Big Picture</h3>

        {(serviceFilter === 'all' || serviceFilter === 'strategy') && (
          <>
        {/* Strategic Triptych Assessment Bento Box - £18,000 */}
        <div
          className="service-bento"
          style={{
            backgroundColor: '#fff',
            padding: '32px',
            borderRadius: '12px',
            marginBottom: '24px',
            cursor: 'pointer',
            transition: 'transform 0.3s ease'
          }}
          onClick={() => setEnquiryModalOpen('pioneers-of-purpose')}
        >
          <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
            <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
            If your internal culture and external message feel misaligned...
          </p>

          <h3 style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '8px', flexWrap: 'wrap' }}>
            Pioneers of Purpose Assessment
            <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Strategy</span>
          </h3>

          <p style={{ marginBottom: '16px', fontSize: '17px', lineHeight: '1.6', color: '#444' }}><DynamicServiceDescription content={serviceDescription} /></p>

          <p style={{ marginBottom: '20px', fontSize: '14px', color: '#666', fontStyle: 'italic' }}>
            Eight weeks. Purpose architecture mapped across every system and touchpoint by <span className="delivery-date">{getDeliveryDate('pioneers-of-purpose')}</span>.
          </p>

          <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
            <div>
              <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £50,000</p>
            </div>
            <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>
              <a
                href={`mailto:?subject=${encodeURIComponent('Worth looking at: Pioneers of Purpose Assessment')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called Pioneers of Purpose - they dissect your business from its core reason to exist and cascade that purpose through every system and customer touchpoint. Inside-out authenticity that actually strengthens both culture and message.\n\nFour to eight weeks, starts at £30,000. They map purpose as operating system, not marketing tagline.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('pioneers-of-purpose')} or earlier.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#pioneers-of-purpose' : 'https://prismaticalabs.com/services#pioneers-of-purpose'}\n\nWorth a conversation?`)}`}
                title="Share with your team"
                className="service-cta-link"
                style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s' }}
                onClick={(e) => e.stopPropagation()}
              >
                Share &gt;
              </a>
              <button
                title="Enquire about this service"
                className="service-cta-btn"
                style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s' }}
                onClick={(e) => {
                  e.stopPropagation();
                  setEnquiryModalOpen('pioneers-of-purpose');
                }}
              >
                Enquire &gt;
              </button>
            </div>
          </div>
        </div>

        {/* ESI Framework Bento Box */}
        <div
          className="service-bento"
          style={{
            backgroundColor: '#fff',
            padding: '32px',
            borderRadius: '12px',
            marginBottom: '24px',
            cursor: 'pointer',
            transition: 'transform 0.3s ease'
          }}
          onClick={() => setEnquiryModalOpen('esi-framework')}
        >
          <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
            <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
            If you have insights but struggle to execute them systematically...
          </p>

          <h3 style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '8px', flexWrap: 'wrap' }}>
            The ESI Framework
            <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Strategy</span>
          </h3>

          <p style={{ marginBottom: '16px', fontSize: '17px', lineHeight: '1.6', color: '#444' }}><DynamicESIDescription content={esiDescription} /></p>

          <p style={{ marginBottom: '20px', fontSize: '14px', color: '#666', fontStyle: 'italic' }}>
            Three to six weeks. Roadmap delivered by <span className="delivery-date">{getDeliveryDate('esi-framework')}</span>.
          </p>

          <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
            <div>
              <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £40,000</p>
            </div>
            <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>
              <a
                href={`mailto:?subject=${encodeURIComponent('Worth looking at: ESI Framework from Prismatica Labs')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called the ESI Framework - basically a system that connects insights to actual implementation. Explore uncovers truth, Synthesize turns it into strategy, Ignite makes it executable.\n\nThree to six weeks, starts at £25,000. They map the whole thing from research through execution.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('esi-framework')} or earlier.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#esi-framework' : 'https://prismaticalabs.com/services#esi-framework'}\n\nWorth a conversation?`)}`}
                title="Share with your team"
                className="service-cta-link"
                style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                onClick={(e) => e.stopPropagation()}
              >
                Share &gt;
              </a>
              <button
                title="Enquire about this service"
                className="service-cta-btn"
                style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                onClick={(e) => {
                  e.stopPropagation();
                  setEnquiryModalOpen('esi-framework');
                }}
              >
                Enquire &gt;
              </button>
            </div>
          </div>
        </div>
          </>
        )}

        {(serviceFilter === 'all' || serviceFilter === 'technology') && (
          <>
        {/* The Secret Agency Bento Box */}
        <div
          className="service-bento"
          style={{
            backgroundColor: '#fff',
            padding: '32px',
            borderRadius: '12px',
            marginBottom: '24px',
            cursor: 'pointer',
            transition: 'transform 0.3s ease'
          }}
          onClick={() => setEnquiryModalOpen('the-secret-agency')}
        >
          <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
            <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
            If you're done adapting to generic software...
          </p>

          <h3 style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '8px', flexWrap: 'wrap' }}>
            The Secret Agency
            <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Technology</span>
          </h3>

          <p style={{ marginBottom: '16px', fontSize: '17px', lineHeight: '1.6', color: '#444' }}><DynamicAgencyDescription content={agencyDescription} /></p>

          <p style={{ marginBottom: '20px', fontSize: '14px', color: '#666', fontStyle: 'italic' }}>
            Invitation only. Deep discovery, custom architecture, ongoing refinement.
          </p>

          <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
            <div>
              <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £40,000</p>
            </div>
            <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>
              <a
                href={`mailto:?subject=${encodeURIComponent('Worth looking at: The Secret Agency')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called The Secret Agency - custom AI infrastructure built exactly around how your brain works. Not productivity apps you adapt to, but systems that adapt to you. They engineer your perfect workflow from scratch. Bespoke intelligence layers that multiply capacity.\n\nInvitation only, starting at £25,000.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#secret-agency' : 'https://prismaticalabs.com/services#secret-agency'}\n\nWorth a conversation?`)}`}
                title="Share with your team"
                className="service-cta-link"
                style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                onClick={(e) => e.stopPropagation()}
              >
                Share &gt;
              </a>
              <button
                title="Enquire about this service"
                className="service-cta-btn"
                style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                onClick={(e) => {
                  e.stopPropagation();
                  setEnquiryModalOpen('the-secret-agency');
                }}
              >
                Enquire &gt;
              </button>
            </div>
          </div>
        </div>
          </>
        )}

        {(serviceFilter === 'all' || serviceFilter === 'marketing') && (
          <>
        {/* KSO Workshop Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If AI systems are mediating how customers discover you...
            </p>

            <h3 id="kso-workshop" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>Knowledge Search Optimisation (KSO) Workshop</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Marketing</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}><DynamicKSODescription content={ksoDescription} /></p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              Four weeks. Workshop next week and by <span className="delivery-date">{getDeliveryDate('kso-workshop')}</span> you'll have a KSO blueprint showing what intellectual space you own and how to operationalise it. SEO makes you searchable. KSO makes you unforgettable.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>£25,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: KSO Workshop from Prismatica Labs')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called the KSO Workshop - Knowledge Search Optimisation. The future of discoverability isn't about links, it's about ideas. They map your business DNA into a knowledge graph that AI systems recognise and cite.\n\nFour weeks, £18,500. They position you as a recognised source in your space, not just another site.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('kso-workshop')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#kso-workshop' : 'https://prismaticalabs.com/services#kso-workshop'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('kso-workshop');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>
          </>
        )}

        {(serviceFilter === 'all' || serviceFilter === 'strategy') && (
          <>
        {/* Transaction Architecture Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If engagement is high but conversions don't match...
            </p>

            <h3 id="transaction-architecture" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>The Transaction Architecture</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Strategy</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}><DynamicTransactionDescription content={transactionDescription} /></p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              Give us three to five weeks and by <span className="delivery-date">{getDeliveryDate('transaction-architecture')}</span> you'll know exactly how value flows through your business and where to increase conversion velocity.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £25,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: Transaction Architecture')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called Transaction Architecture - they map how value actually flows through your business across three dimensions: emotional, cognitive, and tangible. Then they design every touchpoint to trigger those transactions. Conversion through understanding, not manipulation.\n\nThree to five weeks, starts at £15,000.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('transaction-architecture')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#transaction-architecture' : 'https://prismaticalabs.com/services#transaction-architecture'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('transaction-architecture');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>

        {/* Strategic Triptych Assessment Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If you know something's off but can't pinpoint where...
            </p>

            <h3 id="strategic-triptych" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>The Strategic Triptych Assessment</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Strategy</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}><DynamicTriptychDescription content={triptychDescription} /></p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              Two to four weeks. By <span className="delivery-date">{getDeliveryDate('strategic-triptych')}</span> you'll know exactly where you're leaving money on the table and what to do about it.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £18,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: Strategic Triptych Assessment')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called Strategic Triptych - they examine your business through three lenses at once: how you market, compete, and build. Most problems live in the gaps between these. Most opportunities too.\n\nTwo to four weeks, starts at £12,000. They show you exactly where you're leaving money on the table.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('strategic-triptych')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#strategic-triptych' : 'https://prismaticalabs.com/services#strategic-triptych'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('strategic-triptych');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>
          </>
        )}

        <h3 style={{ fontFamily: '"Noto Sans", sans-serif', fontSize: '28px', fontWeight: 700, textTransform: 'uppercase', letterSpacing: '1px', marginTop: '48px', marginBottom: '24px' }}>Tactical Steps Forward</h3>

        {(serviceFilter === 'all' || serviceFilter === 'marketing') && (
          <>
        {/* Go-to-Market Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If you're launching something new and can't afford to get it wrong...
            </p>

            <h3 id="go-to-market" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>Go-to-Market</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Marketing</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}>Launch right the first time. We build your complete go-to-market strategy from positioning to channels to messaging to timeline. Who you're targeting, what you're saying, where you're saying it, and in what sequence. Everything mapped before you spend a pound on execution.</p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              Four to six weeks now beats six months of "let's try this and see." Launch strategy ready by <span className="delivery-date">{getDeliveryDate('go-to-market')}</span>, budget intact.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £15,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: Go-to-Market Strategy')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's a complete go-to-market strategy service. They map everything from positioning to channels to messaging to timeline. Who you're targeting, what you're saying, where, and when. Everything mapped before you spend a pound on execution.\n\nFour to six weeks, starts at £8,000.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('go-to-market')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#go-to-market' : 'https://prismaticalabs.com/services#go-to-market'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('go-to-market');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>
          </>
        )}

        {(serviceFilter === 'all' || serviceFilter === 'process') && (
          <>
        {/* Design Thinking Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If traditional solutions keep failing on the same recurring problem...
            </p>

            <h3 id="design-thinking" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>Design Thinking</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Process</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}>New answers to old problems. When traditional approaches keep failing, we reframe the problem entirely. Rapid prototyping, user testing, iteration. We work in sprints to test assumptions quickly and cheaply before you commit to expensive solutions. Fail fast, learn faster.</p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              First sprint done by <span className="delivery-date">{getDeliveryDate('design-thinking')}</span>. Real users, real prototypes, real learning. Then we iterate or pivot. No six-month waterfall nonsense.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £10,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: Design Thinking')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's a design thinking approach for problems that traditional solutions can't fix. They reframe the problem, rapid prototype, and test with real users. Fast iteration before you commit to expensive solutions.\n\nStarts at £6,000, first sprint done in 3 weeks.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('design-thinking')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#design-thinking' : 'https://prismaticalabs.com/services#design-thinking'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('design-thinking');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>
          </>
        )}

        {(serviceFilter === 'all' || serviceFilter === 'technology') && (
          <>
        {/* AI Without the Hallucination Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If your team sees AI potential everywhere but can't identify clear use cases...
            </p>

            <h3 id="ai-without-hallucination" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>AI Without the Hallucination</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Technology</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}>Cut through the hype and find the boring, profitable AI applications that actually matter. We map your workflows, identify where AI adds real value, and prioritize implementations by ROI. Not the flashy demos everyone's chasing. The practical automations that save hours and generate revenue.</p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              We'll cut through the hype in two to four weeks. By <span className="delivery-date">{getDeliveryDate('ai-without-hallucination')}</span> you'll have AI use cases with actual ROI, not just ChatGPT screenshots in your deck.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £10,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: AI Without the Hallucination')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called AI Without the Hallucination. They cut through the hype to find the boring, profitable AI applications. They map your workflows, identify real value, and prioritize by ROI. Practical automations, not flashy demos.\n\nTwo to four weeks, starts at £5,000.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('ai-without-hallucination')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#ai-without-hallucination' : 'https://prismaticalabs.com/services#ai-without-hallucination'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('ai-without-hallucination');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>
          </>
        )}

        {(serviceFilter === 'all' || serviceFilter === 'marketing') && (
          <>
        {/* Creative That Converts Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If your brand looks professional but doesn't drive sales or premium pricing...
            </p>

            <h3 id="creative-converts" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>Creative That Converts</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Marketing</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}>Brand work measured in revenue, not awards. We rebuild your positioning from the ground up based on what actually shifts customer perception and pricing power. Every design decision, every message, every touchpoint gets tested against one question: does this make people willing to pay more or buy faster?</p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              Three to six weeks from now, call it <span className="delivery-date">{getDeliveryDate('creative-converts')}</span>, your brand actually drives revenue instead of just looking pretty.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £12,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: Creative That Converts')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called Creative That Converts. They rebuild brand positioning based on what actually shifts customer perception and pricing power. Every design decision gets tested: does this make people pay more or buy faster?\n\nThree to six weeks, starts at £5,000.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('creative-converts')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#creative-converts' : 'https://prismaticalabs.com/services#creative-converts'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('creative-converts');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>

        {/* Marketing Reality Check Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If your marketing looks busy but results feel random...
            </p>

            <h3 id="marketing-reality-check" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>Marketing Reality Check</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Marketing</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}>We watch how customers actually behave, not how your research says they behave. Shopping at 2am looks different from focus groups at 2pm. We track real patterns, identify what's working despite your strategy (not because of it), and show you where budget should actually go.</p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              Two to three weeks. By <span className="delivery-date">{getDeliveryDate('marketing-reality-check')}</span> you'll know what's actually moving the needle and what's just moving budget around.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £8,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: Marketing Reality Check')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's a marketing reality check based on actual customer behavior, not research reports. They track real patterns and show you what's working despite your strategy, not because of it.\n\nTwo to three weeks, starts at £5,000.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('marketing-reality-check')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#marketing-reality-check' : 'https://prismaticalabs.com/services#marketing-reality-check'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('marketing-reality-check');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>
          </>
        )}

        {(serviceFilter === 'all' || serviceFilter === 'process') && (
          <>
        {/* Process Surgery Bento Box */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px', marginBottom: '32px' }}>
          <div
            className="bento-link"
            style={{
              backgroundColor: '#fff',
              padding: '32px',
              borderRadius: '12px',
              transition: 'transform 0.3s ease'
            }}>

            <p style={{ position: 'relative', fontSize: '16px', marginBottom: '16px' }}>
              <span style={{ position: 'absolute', left: '-20px', top: '0', bottom: '0', width: '3px', backgroundColor: '#D43225' }}></span>
              If you're hiring faster than you're fixing processes...
            </p>

            <h3 id="process-surgery" style={{ fontSize: '17px', fontWeight: 700, letterSpacing: '1px', textTransform: 'uppercase', marginBottom: '20px', color: '#222', display: 'flex', alignItems: 'center', gap: '6px', flexWrap: 'wrap' }}>
              <span>Process Surgery</span>
              <span style={{ fontSize: '10px', fontWeight: 600, letterSpacing: '1px', padding: '4px 8px', background: '#f5f5f5', color: '#666', borderRadius: '4px', textTransform: 'uppercase' }}>Process</span>
            </h3>

            <p style={{ marginBottom: '16px', fontSize: '16px', lineHeight: '1.6', color: '#444' }}>Cut what's broken. Fix what matters. Leave the rest alone. We find the 20% of processes causing 80% of your pain, eliminate unnecessary steps, and rebuild the critical paths. Not process for process sake. Process that actually makes work easier.</p>

            <p style={{ fontSize: '13px', color: '#666', marginBottom: '20px', fontStyle: 'italic' }}>
              Two to four weeks. By <span className="delivery-date">{getDeliveryDate('process-surgery')}</span> your team will spend less time managing workflows and more time doing actual work.
            </p>

            <div style={{ marginTop: 'auto', paddingTop: '20px', borderTop: '1px solid #e0e0e0', transition: 'border-color 0.3s ease', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
              <div>
                <p style={{ fontWeight: 600, fontSize: '18px', marginBottom: '0', color: '#222' }}>From £10,000</p>
              </div>
              <div style={{ display: 'flex', gap: '16px' }}>
                <a
                  href={`mailto:?subject=${encodeURIComponent('Worth looking at: Process Surgery')}&body=${encodeURIComponent(`Hey,\n\nI came across this and thought it might help with [ADD_YOUR_CHALLENGE_HERE].\n\nIt's called Process Surgery. They find the 20% of processes causing 80% of pain, eliminate unnecessary steps, and rebuild critical paths. Process that makes work easier, not just documented.\n\nTwo to four weeks, starts at £5,000.\n\nIf we talk to them next week, we could have results by ${getDeliveryDate('process-surgery')}.\n\nHere's the link: ${typeof window !== 'undefined' ? window.location.origin + window.location.pathname + '#process-surgery' : 'https://prismaticalabs.com/services#process-surgery'}\n\nWorth a conversation?`)}`}
                  title="Share with your team"
                  className="service-cta-link"
                  style={{ color: '#666', fontSize: '17px', fontWeight: 400, textDecoration: 'none', transition: 'color 0.2s, text-decoration 0.2s' }}
                >
                  Share &gt;
                </a>
                <button
                  title="Enquire about this service"
                  className="service-cta-btn"
                  style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', color: '#666', fontSize: '17px', fontWeight: 400, transition: 'color 0.2s, text-decoration 0.2s' }}
                  onClick={(e) => {
                    e.stopPropagation();
                    setEnquiryModalOpen('process-surgery');
                  }}
                >
                  Enquire &gt;
                </button>
              </div>
            </div>
          </div>
        </div>
          </>
        )}

        <div style={{ margin: '48px 0', borderTop: '1px solid #ccc', borderBottom: '1px solid #ccc', height: '3px' }}></div>

        <h3 style={{ fontFamily: '"Noto Sans", sans-serif', fontSize: '28px', fontWeight: 700, textTransform: 'uppercase', letterSpacing: '1px', marginTop: '48px', marginBottom: '24px' }}>Who Gets Special Terms</h3>

        <p><strong>B-Corps</strong> get 20% off because you're accountable to more than shareholders, and so are we. <strong>NGOs</strong> get 50% off or pro-bono for the right project, impact over income. <strong>Startups</strong> can do equity deals, we bet on futurists, not just futures.</p>

        <p>Limited spots monthly, as we balance impact work with commercial projects to keep both sustainable. No forms. No committees. Just tell us what you're building and why it matters.</p>

        <div style={{ margin: '48px 0', borderTop: '1px solid #ccc', borderBottom: '1px solid #ccc', height: '3px' }}></div>

        <h3 style={{ fontFamily: '"Noto Sans", sans-serif', fontSize: '28px', fontWeight: 700, textTransform: 'uppercase', letterSpacing: '1px', marginTop: '48px', marginBottom: '24px' }}>How This Works</h3>

        <p>Tell us the problem. We'll quote a fixed price and timeline. No surprises.</p>

        <p>Some fixes take two weeks. Some take two months. None take two years.</p>

        <h3 style={{ fontFamily: '"Noto Sans", sans-serif', fontSize: '28px', fontWeight: 700, textTransform: 'uppercase', letterSpacing: '1px', marginTop: '48px', marginBottom: '24px' }}>The Test</h3>

        <p>If you want a study, hire someone else. If you want a solution...</p>

        <Link href="/contact" className="cta-button red">Reach Out</Link>
        </div>
      </section>

      {enquiryModalOpen && serviceConfig[enquiryModalOpen] && (
        <EnquiryModal
          serviceName={enquiryModalOpen}
          serviceDurationWeeks={serviceConfig[enquiryModalOpen].duration}
          basePrice={serviceConfig[enquiryModalOpen].price}
          onClose={() => setEnquiryModalOpen(null)}
        />
      )}
    </PageLayout>
  );
}
